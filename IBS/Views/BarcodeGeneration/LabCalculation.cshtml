@model IBS.Models.BarcodeGenerate

@{
    ViewData["Title"] = "Lab Calculation";
    string clsView = "";
    // if (Model.LabId > 0)
    // {
    //     clsView = "Permission_View";
    // }
}
<style>

    #popup {
        position: fixed;
        top: 0;
        left: 10%;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .popup-content {
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        width: 70%;
    }

    .close-button {
        position: absolute;
        right: 13%;
        background: none;
        border: none;
        cursor: pointer;
        font-size: xx-large;
        margin-top: -2%;
    }
</style>
@* <div class="list-inner">
    <div class="tast-list">
        <h2>Lab Calculation</h2>
    </div>
    <div>
        <a asp-action="Index" asp-controller="BarcodeGeneration" class="formBtn viewall-btn">View List</a>
    </div>
</div> *@
<section class="@clsView">
    <div class="task-listinput">
        <form data-ajax="true" asp-antiforgery="true" asp-controller="BarcodeGeneration" asp-action="" data-ajax-method="post" data-ajax-complete="completed" id="frmbarcode">
            <div class="accordion-body">
                <span class="close-button" id="close" onclick="ClosePopup();">&times;</span>
                <div class="row my-0">
                    <div class="col-md-3 mb-4">
                        <label for="Reference">Discipline</label>
                        @Html.DropDownListFor(model => model.Discipline, new SelectList(IBS.Models.Common.Discipline() , "Value", "Text"),"-- Select --",new { @id = "ddldisc"})

                    </div>
                    <div class="col-md-3 mb-3 savenext-btn" style="margin-top:auto;">
                        <button type="button" class="save-btn active" onclick="Show();">Load</button>
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="Reference">Type of GST</label>
                        @Html.DropDownListFor(model => model.TypeGST, new SelectList(IBS.Models.Common.TypeofGST() , "Value", "Text"),new { @id = "ddlTGST",@onchange = "Change()"})
                    </div>
                    <div class="col-md-1 mb-3">
                        <label for="Reference">SGST</label>
                        <input type="text" class="input" asp-for="SGST" readonly="readonly">
                    </div>
                    <div class="col-md-1 mb-3">
                        <label for="Reference">CGST</label>
                        <input type="text" class="input" asp-for="CGST" readonly="readonly">
                    </div>
                    <div class="col-md-1 mb-3">
                        <label for="Reference">IGST</label>
                        <input type="text" class="input" asp-for="IGST" readonly="readonly">
                    </div>
                </div>
                <div class="row my-0">
                    <div class="col-md-2 mb-3">
                        <label for="Reference">Total</label>
                        <input type="text" class="input" asp-for="Total" readonly="readonly">
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="Reference">Tax</label>
                        <input type="text" class="input" asp-for="Tax" readonly="readonly">
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="Reference">G.Total</label>
                        <input type="text" class="input" asp-for="GTotal" readonly="readonly">
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="Reference">Handling Charge</label>
                        <input type="text" class="input" asp-for="HandlingCharge">
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="Reference">Extra Charge</label>
                        <input type="text" class="input" asp-for="ExtraCharge">
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="Reference">R.Total</label>
                        <input type="text" class="input" asp-for="RTotal" readonly="readonly">
                    </div>
                </div>
                <div class="savenext-btn" style="margin-top:auto;">
                    <button type="button" class="save-btn active">Calculation</button>
                </div>
            </div>
        </form>
    </div>
</section>


@section scripts{

    <partial name="_DataTablesScriptsPartial" />
    <partial name="_ValidationScriptsPartial" />

    <script type="text/javascript">

        $(function () {

        });
       
       
        function SaveBarcode() {
            $("#spnError1").html("");
            $("#spnError2").html("");
            var IsValid = true;
            if ($("#TotalRate").val() == "") {
                $("#spnError1").html("Please Enter Total Rate");
                IsValid = false;
            }
            if ($("#GSTAmount").val() == "") {
                $("#spnError2").html("Please Enter GST Amount");
                IsValid = false;
            }
            if (!IsValid) return;
            $("#frmbarcode").submit();

        }
        completed = function (response) {
            var res = response.responseJSON;
            ShowHideMsgNew(res.status, res.responseText);
            //window.location.href = "/LaboratoryMaster/LaboratoryMaster";
            window.location.href = '@Url.Action("Index", "BarcodeGeneration")';
        };
        
    </script>
}
