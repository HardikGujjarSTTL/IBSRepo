@model IBS.Models.Reports.JIRequiredReport

<div>
    <h3 class="heading3">Complaint Recieved for the Financial Year : <span class="orangeText"> '@Model.FinancialYearsText' </span> <span class="orangeText"> (Region Wise) </span></h3>
    <div class="tableOuter">
        <table class="borderTable" cellpadding="0" cellspacing="0">
            <tbody>
                <tr>
                    <th valign="top" align="center"><b>Region</b></th>
                    <th valign="top" align="center"><b>Total No. of Inspections</b></th>
                    <th valign="top" align="center"><b>Total Value of Inspections (In Lakh)</b></th>
                    <th valign="top" align="center"><b>Recd</b></th>
                    <th valign="top" align="center"><b>Finalised</b></th>
                    <th valign="top" align="center"><b>Pending</b></th>
                    <th valign="top" align="center"><b>Accepted</b></th>
                    <th valign="top" align="center"><b>Upheld (1)</b></th>
                    <th valign="top" align="center"><b>Sorting (2)</b></th>
                    <th valign="top" align="center"><b>Rectification (3)</b></th>
                    <th valign="top" align="center"><b>Price Reduction (4)</b></th>
                    <th valign="top" align="center"><b>Lifted Before JI (5)</b></th>
                    <th valign="top" align="center"><b>Not On Rites A/c</b></th>
                    <th valign="top" align="center"><b>Transit Damage</b></th>
                    <th valign="top" align="center"><b>Unstamped</b></th>
                    <th valign="top" align="center"><b>Total (1+2+3+4+5)</b></th>
                </tr>
                @if (Model != null && Model.lstJIRequiredList != null && Model.lstJIRequiredList.Count > 0)
                {
                    decimal toNO_OF_INSPECTION = 0, toMATERIAL_VALUE = 0, toRECD = 0, toFINALISED = 0, toPENDING = 0, toACCEPTED = 0, toUPHELD = 0, toSORTING = 0, toRECTIFICATION = 0, toPRICE_REDUCTION = 0,
                    toLIFTED_BEFORE_JI = 0, toNOT_ON_RITES_AC = 0, toTRANSIT_DEMAGE = 0, toUNSTAMPED = 0, toTotal = 0;
                    var SrNo = 0;
                    @foreach (var item in Model.lstJIRequiredList)
                    {
                        SrNo = SrNo + 1;
                        toNO_OF_INSPECTION = toNO_OF_INSPECTION + item.NO_OF_INSPECTION;
                        toMATERIAL_VALUE = toMATERIAL_VALUE + item.MATERIAL_VALUE;
                        toRECD = toRECD + item.RECD;
                        toFINALISED = toFINALISED + item.FINALISED;
                        toPENDING = toPENDING + item.PENDING;
                        toACCEPTED = toACCEPTED + item.ACCEPTED;
                        toUPHELD = toUPHELD + item.UPHELD;
                        toSORTING = toSORTING + item.SORTING;
                        toRECTIFICATION = toRECTIFICATION + item.RECTIFICATION;
                        toPRICE_REDUCTION = toPRICE_REDUCTION + item.PRICE_REDUCTION;
                        toLIFTED_BEFORE_JI = toLIFTED_BEFORE_JI + item.LIFTED_BEFORE_JI;
                        toNOT_ON_RITES_AC = toNOT_ON_RITES_AC + item.NOT_ON_RITES_AC;
                        toTRANSIT_DEMAGE = toTRANSIT_DEMAGE + item.TRANSIT_DEMAGE;
                        toUNSTAMPED = toUNSTAMPED + item.UNSTAMPED;
                        toTotal = toTotal + item.Total;
                        <tr>
                            <td  valign="top" align="Left">@item.Region</td>
                            <td  valign="top" align="center">@item.NO_OF_INSPECTION</td>
                            <td  valign="top" align="center">@item.MATERIAL_VALUE</td>
                            <td  valign="top" align="center">@item.RECD</td>
                            <td  valign="top" align="center">@item.FINALISED</td>
                            <td  valign="top" align="center">@item.PENDING</td>
                            <td  valign="top" align="center">@item.ACCEPTED</td>
                            <td  valign="top" align="center">@item.UPHELD</td>
                            <td  valign="top" align="center">@item.SORTING</td>
                            <td  valign="top" align="center">@item.RECTIFICATION</td>
                            <td  valign="top" align="center">@item.PRICE_REDUCTION</td>
                            <td  valign="top" align="center">@item.LIFTED_BEFORE_JI</td>
                            <td  valign="top" align="center">@item.NOT_ON_RITES_AC</td>
                            <td  valign="top" align="center">@item.TRANSIT_DEMAGE</td>
                            <td  valign="top" align="center">@item.UNSTAMPED</td>
                            <td  valign="top" align="center">@item.Total</td>
                        </tr>
                    }
                    <tr>
                        <td  valign="top" align="Left"><b>Totals</b></td>
                        <td  valign="top" align="center"><b>@toNO_OF_INSPECTION</b></td>
                        <td  valign="top" align="center"><b>@toMATERIAL_VALUE</b></td>
                        <td  valign="top" align="center"><b>@toRECD</b></td>
                        <td  valign="top" align="center"><b>@toFINALISED</b></td>
                        <td  valign="top" align="center"><b>@toPENDING</b></td>
                        <td  valign="top" align="center"><b>@toACCEPTED</b></td>
                        <td  valign="top" align="center"><b>@toUPHELD</b></td>
                        <td  valign="top" align="center"><b>@toSORTING</b></td>
                        <td  valign="top" align="center"><b>@toRECTIFICATION</b></td>
                        <td  valign="top" align="center"><b>@toPRICE_REDUCTION</b></td>
                        <td  valign="top" align="center"><b>@toLIFTED_BEFORE_JI</b></td>
                        <td  valign="top" align="center"><b>@toNOT_ON_RITES_AC</b></td>
                        <td  valign="top" align="center"><b>@toTRANSIT_DEMAGE</b></td>
                        <td  valign="top" align="center"><b>@toUNSTAMPED</b></td>
                        <td  valign="top" align="center"><b>@toTotal</b></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <h3 class="heading3">Defect Code Wise Analysis for the Financial Year : <span class="orangeText"> '@Model.FinancialYearsText' </span></h3>
    <div class="tableOuter">
        <table class="borderTable" cellpadding="0" cellspacing="0">
            <tbody>
                <tr>
                    <th  valign="top" align="center"><b>Code</b></th>
                    <th  valign="top" align="center"><b>Upheld</b></th>
                    <th  valign="top" align="center"><b>Sorting</b></th>
                    <th  valign="top" align="center"><b>Rectification</b></th>
                    <th  valign="top" align="center"><b>Price Reduction</b></th>
                    <th  valign="top" align="center"><b>Total</b></th>
                </tr>
                @if (Model != null && Model.lstJIRequiredList != null && Model.lstJIRequiredList.Count > 0)
                {
                   
                    var region = Model.lstCompList.Select(x => x.Region).Distinct().ToList();
                    decimal toUPHELD = 0, toSORTING = 0, toRECTIFICATION = 0, toPRICE_REDUCTION = 0, toTotal = 0;

                    @foreach (var item in region)
                    {
                        var list = Model.lstCompList.Where(x => x.Region == item).Select(x => x);
                        <tr>
                            <td colspan="6" align="center">@item</td>
                        </tr>
                        @foreach (var item2 in list)
                        {
                            toUPHELD = toUPHELD + item2.UPHELD;
                            toSORTING = toSORTING + item2.SORTING;
                            toRECTIFICATION = toRECTIFICATION + item2.RECTIFICATION;
                            toPRICE_REDUCTION = toPRICE_REDUCTION + item2.PRICE_REDUCTION;
                            toTotal = toTotal + item2.Total;

                            <tr>
                                <td valign="top" align="left">@item2.DEFECT_DESC</td>
                                <td valign="top" align="center">@item2.UPHELD</td>
                                <td valign="top" align="center">@item2.SORTING</td>
                                <td valign="top" align="center">@item2.RECTIFICATION</td>
                                <td valign="top" align="center">@item2.PRICE_REDUCTION</td>
                                <td valign="top" align="center">@item2.Total</td>
                            </tr>
                        }
                    }

                     <tr>
                        <td  valign="top" align="Left"><b>Totals</b></td>
                        <td  valign="top" align="center"><b>@toUPHELD</b></td>
                        <td  valign="top" align="center"><b>@toSORTING</b></td>
                        <td  valign="top" align="center"><b>@toRECTIFICATION</b></td>
                        <td  valign="top" align="center"><b>@toPRICE_REDUCTION</b></td>
                        <td  valign="top" align="center"><b>@toTotal</b></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <h3 class="heading3">IEs with maximum no. of Rejections on Rites Account for the financial year : <span class="orangeText"> '@Model.FinancialYearsText' </span> (IE WISE)</h3>
    <div class="tableOuter">
        <table class="borderTable" cellpadding="0" cellspacing="0">
            <tbody>
                <tr>
                    <th  valign="top" align="center"><b>IE</b></th>
                    <th  valign="top" align="center"><b>Total No. of Inspections</b></th>
                    <th  valign="top" align="center"><b>Total Value of Inspections (In Lakh)</b></th>
                    <th  valign="top" align="center"><b>Recd</b></th>
                    <th  valign="top" align="center"><b>Finalised</b></th>
                    <th  valign="top" align="center"><b>Pending</b></th>
                    <th  valign="top" align="center"><b>Accepted</b></th>
                    <th  valign="top" align="center"><b>Upheld (1)</b></th>
                    <th  valign="top" align="center"><b>Sorting (2)</b></th>
                    <th  valign="top" align="center"><b>Rectification (3)</b></th>
                    <th  valign="top" align="center"><b>Price Reduction (4)</b></th>
                    <th  valign="top" align="center"><b>Lifted Before JI (5)</b></th>
                    <th  valign="top" align="center"><b>Not On Rites A/c</b></th>
                    <th  valign="top" align="center"><b>Transit Damage</b></th>
                    <th  valign="top" align="center"><b>Unstamped</b></th>
                    <th  valign="top" align="center"><b>Total (1+2+3+4+5)</b></th>
                </tr>
                @if (Model != null && Model.lstComplaintJIIE != null && Model.lstComplaintJIIE.Count > 0)
                {
                   
                    var region = Model.lstComplaintJIIE.Select(x => x.Region).Distinct().ToList();

                    @foreach (var item in region)
                    {
                        var list = Model.lstComplaintJIIE.Where(x => x.Region == item).Select(x => x);
                        <tr>
                            <td colspan="6" align="center">@item</td>
                        </tr>
                        @foreach (var item2 in list)
                        {
                            <tr>
                                <td  valign="top" align="center">@item2.IE</td>
                                <td  valign="top" align="center">@item2.NO_OF_INSPECTION</td>
                                <td  valign="top" align="center">@item2.MATERIAL_VALUE</td>
                                <td  valign="top" align="center">@item2.RECD</td>
                                <td  valign="top" align="center">@item2.FINALISED</td>
                                <td  valign="top" align="center">@item2.PENDING</td>
                                <td  valign="top" align="center">@item2.ACCEPTED</td>
                                <td  valign="top" align="center">@item2.UPHELD</td>
                                <td  valign="top" align="center">@item2.SORTING</td>
                                <td  valign="top" align="center">@item2.RECTIFICATION</td>
                                <td  valign="top" align="center">@item2.PRICE_REDUCTION</td>
                                <td  valign="top" align="center">@item2.LIFTED_BEFORE_JI</td>
                                <td  valign="top" align="center">@item2.NOT_ON_RITES_AC</td>
                                <td  valign="top" align="center">@item2.TRANSIT_DEMAGE</td>
                                <td  valign="top" align="center">@item2.UNSTAMPED</td>
                                <td  valign="top" align="center">@item2.Total</td>
                            </tr>
                        }
                    }
                }
            </tbody>
        </table>
    </div>
</div>


